(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e6f84dc"],{"1a5c":function(a,t,e){"use strict";e.r(t);var o,n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("Card",{attrs:{shadow:""}},[e("h4",{attrs:{slot:"title"},slot:"title"},[a._v("\n      房源列表\n      ")]),e("v-table",{attrs:{table:{data:a.data,loading:a.tableLoaing},total:a.total,current:a.curPage,pageSize:a.pageSize},on:{"change-page":a.changePage,"update:current":function(t){a.curPage=t},"update:pageSize":function(t){a.pageSize=t}}},[e("div",{key:"name",attrs:{title:"楼名"}}),e("div",{key:"address",attrs:{title:"详细地址"}}),e("div",{attrs:{title:"操作"},scopedSlots:a._u([{key:"default",fn:function(t){return e("div",{},[e("Button",{attrs:{type:"warning",size:"small"},on:{click:function(e){a.viewHouse(t)}}},[a._v("查看楼层房屋")])],1)}}])})])],1),e("Modal",{attrs:{title:a.modal.title,width:"500"},model:{value:a.modal.visible,callback:function(t){a.$set(a.modal,"visible",t)},expression:"modal.visible"}},[e("Form",{ref:"form",attrs:{model:a.modal.data,rules:a.modal.rules,"label-width":100}},[e("Row",[e("FormItem",{attrs:{prop:"address",label:"详细地址："}},[e("Input",{attrs:{placeholder:"请输入详细地址"},model:{value:a.modal.data.address,callback:function(t){a.$set(a.modal.data,"address",t)},expression:"modal.data.address"}})],1)],1),e("Row",[e("FormItem",{attrs:{prop:"name",label:"楼名："}},[e("Input",{attrs:{placeholder:"请输入楼名"},model:{value:a.modal.data.name,callback:function(t){a.$set(a.modal.data,"name",t)},expression:"modal.data.name"}})],1)],1),e("Row",[e("FormItem",{attrs:{prop:"n1",label:"楼层数量："}},[e("InputNumber",{attrs:{min:1,max:99,placeholder:"请输入楼层数量"},model:{value:a.modal.data.n1,callback:function(t){a.$set(a.modal.data,"n1",t)},expression:"modal.data.n1"}})],1)],1),e("Row",[e("FormItem",{attrs:{prop:"n2",label:"单层房屋数量："}},[e("InputNumber",{attrs:{min:1,max:99,placeholder:"请输入单层房屋数量"},model:{value:a.modal.data.n2,callback:function(t){a.$set(a.modal.data,"n2",t)},expression:"modal.data.n2"}})],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){a.modal.visible=!1}}},[a._v("取消")]),e("Button",{attrs:{type:"primary"},on:{click:a.next}},[a._v("下一步")])],1)],1),e("Modal",{attrs:{title:"房屋信息",width:"720"},model:{value:a.roomModal.visible,callback:function(t){a.$set(a.roomModal,"visible",t)},expression:"roomModal.visible"}},[e("Alert",{attrs:{"show-icon":""}},[a._v("点击房屋查看账单")]),e("Collapse",{model:{value:a.roomModal.value,callback:function(t){a.$set(a.roomModal,"value",t)},expression:"roomModal.value"}},a._l(a.roomModal.data,function(t,o){return e("Panel",{key:o,attrs:{name:"1"}},[a._v("\n        "+a._s(o)+"\n        "),e("div",{attrs:{slot:"content"},slot:"content"},a._l(t,function(t,o){return e("div",{key:o,staticClass:"room",on:{click:function(e){a.toBill(t.id)}}},[a._v("\n            "+a._s(t.name)+"\n            ")])}))])})),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){a.roomModal.visible=!1}}},[a._v("取消")]),e("Button",{attrs:{type:"primary"},on:{click:a.confirm}},[a._v("确定")])],1)],1),e("Modal",{attrs:{title:"新增房屋",width:"320"},model:{value:a.nameModal.visible,callback:function(t){a.$set(a.nameModal,"visible",t)},expression:"nameModal.visible"}},[e("Form",{ref:"form",attrs:{model:a.nameModal.data,rules:a.nameModal.rules,"label-width":100}},[e("Row",[e("FormItem",{attrs:{prop:"name",label:"房屋名称："}},[e("Input",{attrs:{placeholder:"请输入房屋名称"},model:{value:a.nameModal.data.name,callback:function(t){a.$set(a.nameModal.data,"name",t)},expression:"nameModal.data.name"}})],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){a.nameModal.visible=!1}}},[a._v("取消")]),e("Button",{attrs:{type:"primary"},on:{click:a.comfirmRoom}},[a._v("确定")])],1)],1)],1)},l=[],i=(e("7f7f"),e("cadf"),e("551c"),e("097d"),e("4260")),r=e("338a"),s={mixins:[r["a"]],data:function(){return{url:"admin/landlord/houses",searchData:{name:""},modal:{visible:!1,title:"",rules:{},data:{n1:1,n2:2}},roomModal:{visible:!1,data:[],rows:[],value:[]},nameModal:{visible:!1,rules:{},data:{name:""}}}},methods:{openAddedModal:function(){this.modal.title="新增房源",this.showModal()},showModal:function(){this.modal.visible=!0},confirm:function(){},next:function(){var a=this;this.roomModal.data=Array.apply(null,Array(this.modal.data.n1)).map(function(t,e){return Array.apply(null,Array(a.modal.data.n2)).map(function(a,t){return e+1+i["a"].prefixInteger(t+1,2)})}),this.modal.visible=!1,this.roomModal.visible=!0},delRoom:function(a,t){this.roomModal.data[a].splice(t,1)},addRoom:function(a){o=a,this.nameModal.data.name="",this.nameModal.visible=!0},comfirmRoom:function(){this.roomModal.data[o].push(this.nameModal.data.name),this.nameModal.visible=!1},viewHouse:function(a){var t=this,e=a.roomInfo;this.roomModal.data=e,this.roomModal.visible=!0,this.$nextTick(function(){t.roomModal.value=["1"]})},toBill:function(a){this.$router.push({name:"bill",query:{buildingId:a}}),this.roomModal.visible=!1}},activated:function(){var a=this.$route.query.id;a&&(this.queryTerms={landlordId:a},this.changePage(1))}},d=s,c=(e("f10a"),e("2877")),u=Object(c["a"])(d,n,l,!1,null,"4a69575c",null);u.options.__file="building.vue";t["default"]=u.exports},"338a":function(a,t,e){"use strict";var o=e("53ca"),n=(e("f751"),e("cadf"),e("551c"),e("097d"),function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("Row",{staticClass:"table-con"},[e("Table",a._g(a._b({attrs:{columns:a.columns}},"Table",a.table,!1),a.tableMethod))],1),a.showPage?e("Row",{staticClass:"pagination-con"},[e("Page",{attrs:{"page-size":a.pageSize,total:a.total,"show-elevator":"","show-sizer":"","show-total":"",current:a.curPage},on:{"on-change":a.changePage,"on-page-size-change":a.changePageSize,"update:current":function(t){a.curPage=t}}})],1):a._e()],1)}),l=[],i=e("be94");function r(a){if(Array.isArray(a)){for(var t=0,e=new Array(a.length);t<a.length;t++)e[t]=a[t];return e}}function s(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(a){return r(a)||s(a)||d()}var u={data:function(){return{curPage:1,columns:[]}},props:{table:{},tableMethod:{},pageSize:{default:10},total:{},current:{default:0},showPage:{default:!1}},methods:{changePage:function(a){this.$emit("change-page",a)},changePageSize:function(a){this.$emit("update:pageSize",a),this.$emit("change-page",1)},_changeColumns:function(){if(this.$slots.default){var a=[];this.$slots.default.map(function(t){if(t.tag){var e={key:t.data.key,className:t.data.staticClass};(t.data.scopedSlots||t.children)&&(e.render=function(a,e){var o=[];return t.children&&(o=c(t.children)),t.data.scopedSlots&&o.push(t.data.scopedSlots.default(e.row)),1==o.length?o[0]:a("div",o)}),a.push(Object(i["a"])({},e,t.data.attrs,t.data.on))}}),this.columns=a}else this.columns=[]}},watch:{curPage:function(a){this.$emit("update:current",a)},current:function(a){this.curPage=a}},mounted:function(){this._changeColumns()}},m=u,h=e("2877"),f=Object(h["a"])(m,n,l,!1,null,null,null);f.options.__file="vTable.vue";var p=f.exports,v=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("Card",{class:["search-card",{"no-padding":!a.open}],attrs:{shadow:""}},[e("p",{attrs:{slot:"title"},slot:"title"},[a._v("\n        查询条件\n    ")]),e("a",{attrs:{slot:"extra",href:"javascript:;"},on:{click:function(t){a.open=!a.open}},slot:"extra"},[e("Icon",{attrs:{type:a.open?"ios-arrow-up":"ios-arrow-down"}}),a._v("\n        "+a._s(a.open?"收起":"展开")+"\n    ")],1),e("div",{directives:[{name:"show",rawName:"v-show",value:a.open,expression:"open"}]},[a._t("default")],2)])},g=[],b={data:function(){return{open:!0}}},w=b,M=(e("de3a"),Object(h["a"])(w,v,g,!1,null,null,null));M.options.__file="searchCard.vue";var y=M.exports,_=e("4260");t["a"]={components:{vTable:p,searchCard:y},data:function(){return{curPage:1,pageSize:10,total:0,data:[],url:"",searchData:{},queryTerms:{},tableLoaing:!1,tempData:null}},methods:{beforeDataChange:function(a){return a},changePage:function(a){var t=this;this.curPage=a,this.tableLoaing=!0,_["a"].ajax(this.url,{params:Object.assign({pageSize:this.pageSize,pageNumber:a},this.queryTerms),loading:!1}).then(function(a){var e=a.code,o=a.data;t.tableLoaing=!1,0===e&&(t.data=t.beforeDataChange(o))},function(){t.tableLoaing=!1})},search:function(){this.queryTerms=this.searchData,this.changePage(1)},reset:function(){var a;for(var t in this.searchData)if(a=this.searchData[t],"object"==Object(o["a"])(a))for(var e in a)a[e]="";else this.searchData[t]="";this.queryTerms={},this.changePage(1)}}}},"66c3":function(a,t,e){},a69e:function(a,t,e){},de3a:function(a,t,e){"use strict";var o=e("a69e"),n=e.n(o);n.a},f10a:function(a,t,e){"use strict";var o=e("66c3"),n=e.n(o);n.a}}]);